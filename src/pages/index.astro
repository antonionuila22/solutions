---
import Hero from "../components/Hero.astro";
import Layout from "../layouts/Layout.astro";
import Banner from "../components/Banner.astro";
import CardService from "../components/CardService.astro";
import Pricing from "../components/Pricing.astro";
import Faq from "../components/Faq.astro";
import Testimonial from "../components/testimonial.tsx";
import TechMarquee from "../components/TechMarquee.astro";
import Ourteam from "@/components/Ourteam.astro";
import PartnershipBanner from "@/components/PartnershipBanner.astro";
import BannerSecond from "../components/BannerSecondOptimized.astro";
import TrustBadges from "../components/TrustBadges.astro";
import DesignRushSection from "../components/DesignRushSection.astro";
import WebsiteVsWebApp from "../components/WebsiteVsWebApp.astro";
import HowWeWork from "../components/HowWeWork.astro";
import ValueProposition from "../components/ValueProposition.astro";

// LocalBusiness Schema for local SEO
const localBusinessSchema = {
  "@context": "https://schema.org",
  "@type": "ProfessionalService",
  "name": "Codebrand",
  "image": "https://codebrand.us/photos/bannercodebrand.webp",
  "logo": "https://codebrand.us/iconcodebrand.svg",
  "@id": "https://codebrand.us",
  "url": "https://codebrand.us",
  "telephone": "+504 3272-2973",
  "email": "info@codebrand.es",
  "description": "Professional web development agency offering affordable, US-quality websites at 60% less cost. Specializing in React, Next.js, and custom web solutions.",
  "address": {
    "@type": "PostalAddress",
    "streetAddress": "Edificio Nuevos Horizontes",
    "addressLocality": "San Pedro Sula",
    "addressRegion": "Cortés",
    "postalCode": "21102",
    "addressCountry": "HN"
  },
  "geo": {
    "@type": "GeoCoordinates",
    "latitude": 14.0818,
    "longitude": -87.2068
  },
  "areaServed": [
    { "@type": "Country", "name": "United States" },
    { "@type": "Country", "name": "Honduras" },
    { "@type": "Country", "name": "Mexico" },
    { "@type": "Country", "name": "Spain" }
  ],
  "priceRange": "$$",
  "openingHoursSpecification": [
    {
      "@type": "OpeningHoursSpecification",
      "dayOfWeek": ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday"],
      "opens": "08:00",
      "closes": "18:00"
    }
  ],
  "sameAs": [
    "https://www.facebook.com/p/Codebrand-100087321501519/",
    "https://www.instagram.com/codebrand.us",
    "https://www.linkedin.com/company/codebrand",
    "https://twitter.com/codebrand_us"
  ],
  "hasOfferCatalog": {
    "@type": "OfferCatalog",
    "name": "Web Development Services",
    "itemListElement": [
      { "@type": "Offer", "itemOffered": { "@type": "Service", "name": "Web Development", "url": "https://codebrand.us/services/web-development" }},
      { "@type": "Offer", "itemOffered": { "@type": "Service", "name": "Web Design", "url": "https://codebrand.us/services/web-design" }},
      { "@type": "Offer", "itemOffered": { "@type": "Service", "name": "SEO Services", "url": "https://codebrand.us/services/seo" }},
      { "@type": "Offer", "itemOffered": { "@type": "Service", "name": "E-commerce Development", "url": "https://codebrand.us/services/e-commerce" }},
      { "@type": "Offer", "itemOffered": { "@type": "Service", "name": "Branding", "url": "https://codebrand.us/services/branding" }}
    ]
  }
};

// Review Schema for Google rich snippets - individual reviews
const reviewsSchema = {
  "@context": "https://schema.org",
  "@type": "Organization",
  "name": "Codebrand",
  "url": "https://codebrand.us",
  "review": [
    {
      "@type": "Review",
      "author": { "@type": "Person", "name": "Astrid Euceda" },
      "reviewRating": { "@type": "Rating", "ratingValue": "5", "bestRating": "5" },
      "reviewBody": "Code Brand ofrece un excelente servicio en el desarrollo técnico y creativo. Lograron cumplir con mis necesidades entregando un resultado mejor de lo esperado.",
      "datePublished": "2024-08-15"
    },
    {
      "@type": "Review",
      "author": { "@type": "Person", "name": "Cindy Serrano" },
      "reviewRating": { "@type": "Rating", "ratingValue": "5", "bestRating": "5" },
      "reviewBody": "Thanks, I'm in Mexico and they gave me excellent service",
      "datePublished": "2024-09-20"
    },
    {
      "@type": "Review",
      "author": { "@type": "Person", "name": "Virginia Denisse Alfaro Reyes" },
      "reviewRating": { "@type": "Rating", "ratingValue": "5", "bestRating": "5" },
      "reviewBody": "Excelente trabajo creando sitios webs",
      "datePublished": "2024-07-10"
    },
    {
      "@type": "Review",
      "author": { "@type": "Person", "name": "Nelson Nuñez" },
      "reviewRating": { "@type": "Rating", "ratingValue": "5", "bestRating": "5" },
      "reviewBody": "Excelente Servicio, Eficaz y Responsables.",
      "datePublished": "2024-10-05"
    },
    {
      "@type": "Review",
      "author": { "@type": "Person", "name": "Mayelin Canelas" },
      "reviewRating": { "@type": "Rating", "ratingValue": "5", "bestRating": "5" },
      "reviewBody": "Excelente !!",
      "datePublished": "2024-06-28"
    },
    {
      "@type": "Review",
      "author": { "@type": "Person", "name": "Jose Castro Urquia" },
      "reviewRating": { "@type": "Rating", "ratingValue": "5", "bestRating": "5" },
      "reviewBody": "Lo mejor de lo mejor..",
      "datePublished": "2024-11-12"
    }
  ],
  "aggregateRating": {
    "@type": "AggregateRating",
    "ratingValue": "4.9",
    "reviewCount": "127",
    "bestRating": "5",
    "worstRating": "1"
  }
};

const industries = [
  "Automotive", "Construction", "Content Creators", "E-commerce",
  "Fitness", "Healthcare", "Law Firms", "Real Estate",
  "Restaurants", "Travel Agency", "Other",
];

const services = [
  "Web Development", "UX/UI Design", "Branding", "SEO",
  "Social Media", "Video Editing", "3D Rendering", "Animation",
  "Graphic Design", "Photography",
];
---

<Layout
  title="Affordable Web Development Agency | US Quality, 60% Less - Codebrand"
  description="Top web development agency in Honduras serving USA. Get US-quality websites at 60% less cost. Bilingual team, React & Next.js experts. Request your free quote today!"
  keywords="affordable web development USA, Honduras software development, nearshore web development, cost-effective web design, offshore development Honduras, US web development affordable, certified web developers Honduras, bilingual web development, export services Honduras to USA, cheap quality web development, outsource web development Honduras, Latin America web agency, nearshore outsourcing, web development under $15000, affordable digital agency USA, budget web development services, professional web design Honduras, US nearshore development, Central America tech services, quality affordable websites, web development agency, custom website development, React development agency, Next.js developers"
  image="/photos/bannercodebrand.webp"
>
  <!-- LocalBusiness Schema for local SEO -->
  <script type="application/ld+json" is:inline set:html={JSON.stringify(localBusinessSchema)} />

  <!-- Reviews Schema for Google rich snippets -->
  <script type="application/ld+json" is:inline set:html={JSON.stringify(reviewsSchema)} />

  <Hero />

  <!-- Social Proof - Testimonials (moved up for trust) -->
  <section class="py-16 sm:py-20 lg:py-28 bg-slate-950">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-8 sm:mb-12">
        <span
          class="inline-flex items-center gap-2 px-4 py-2 bg-slate-800 border border-cyan-500/30 rounded-full mb-6"
        >
          <svg
            class="w-4 h-4 text-cyan-400"
            fill="currentColor"
            viewBox="0 0 20 20"
          >
            <path
              d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"
            ></path>
          </svg>
          <span class="text-sm font-medium text-cyan-400"
            >Client Success Stories</span
          >
        </span>
        <h2 class="text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold text-white mb-3 sm:mb-4 px-2 sm:px-0">
          Web Development <span class="text-orange-500">Client Reviews</span>
        </h2>
        <p class="text-base sm:text-lg text-slate-300 max-w-2xl mx-auto px-2 sm:px-0">
          50+ US businesses trust our Honduras-based development team
        </p>
      </div>
    </div>
    <Testimonial client:visible />
  </section>

  <TrustBadges />

  <ValueProposition />
  <TechMarquee />
  <!-- Services Section -->
  <section
    class="py-16 sm:py-20 lg:py-28 bg-gradient-to-b from-white via-slate-50/50 to-slate-100/80 relative overflow-hidden"
  >
    <!-- Background decoration -->
    <div class="absolute inset-0 overflow-hidden pointer-events-none">
      <div class="absolute -top-40 -right-40 w-80 h-80 bg-orange-200/30 rounded-full blur-3xl"></div>
      <div class="absolute -bottom-40 -left-40 w-80 h-80 bg-cyan-200/20 rounded-full blur-3xl"></div>
    </div>

    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
      <!-- Section Header -->
      <div class="text-center mb-8 sm:mb-12 lg:mb-16">
        <span
          class="inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-orange-50 to-amber-50 border border-orange-200/60 rounded-full mb-6 shadow-sm"
        >
          <span class="flex items-center justify-center w-5 h-5 bg-gradient-to-br from-orange-500 to-amber-500 rounded-full">
            <svg class="w-3 h-3 text-white" fill="currentColor" viewBox="0 0 24 24">
              <path d="M13 10V3L4 14h7v7l9-11h-7z" />
            </svg>
          </span>
          <span class="text-sm font-semibold text-orange-700">Full-Service Digital Agency</span>
        </span>
        <h2 class="text-2xl sm:text-3xl md:text-4xl lg:text-5xl xl:text-6xl font-bold text-slate-900 mb-3 sm:mb-5 leading-tight px-2 sm:px-0">
          Everything Your Brand Needs
          <span class="block sm:inline"> </span>
          <span class="bg-gradient-to-r from-orange-500 to-amber-500 bg-clip-text text-transparent">to Grow</span>
        </h2>
        <p class="text-base sm:text-lg md:text-xl text-slate-600 max-w-3xl mx-auto leading-relaxed px-2 sm:px-0">
          From web development to branding, video production to 3D rendering — we handle it all under one roof.
        </p>
      </div>

      <!-- Services Grid -->
      <div
        class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-5 lg:gap-6"
      >
      <CardService
        icon="./icons/interfaz-de-usuario.webp"
        title="UX/UI Design"
        description="Intuitive interfaces that convert visitors into customers. User-centered design that keeps people engaged."
        learnMoreUrl="/services/ux-ui"
      />

      <CardService
        icon="./icons/sitio-web.webp"
        title="Web & App Development"
        description="Fast, SEO-ready websites and mobile apps. React, Next.js, and Expo for web, iOS, and Android."
        learnMoreUrl="/services/web-development"
      />

      <CardService
        icon="./icons/diseno-grafico.webp"
        title="Branding & Identity"
        description="Logos, color systems, and brand guides that make your business memorable and professional."
        learnMoreUrl="/services/branding"
      />

      <CardService
        icon="./icons/seo.webp"
        title="SEO Optimization"
        description="Rank higher on Google with technical SEO, content strategy, and performance optimization."
        learnMoreUrl="/services/seo"
      />

      <CardService
        icon="./icons/redes-sociales.webp"
        title="Social Media Marketing"
        description="Content creation, ad campaigns, and community management that grow your audience."
        learnMoreUrl="/services/social-media"
      />

      <CardService
        icon="./icons/edicion-de-video.webp"
        title="Video Production"
        description="Professional video editing, commercials, and social content that captures attention."
        learnMoreUrl="/services/video-production"
      />

      <CardService
        icon="./icons/animacion.webp"
        title="Motion & Animation"
        description="2D/3D animations, motion graphics, and explainer videos that bring ideas to life."
        learnMoreUrl="/services/animation"
      />

      <CardService
        icon="./icons/modelo-3d.webp"
        title="3D Rendering"
        description="Photorealistic renders for architecture, products, and marketing visualizations."
        learnMoreUrl="/services/3d-rendering"
      />

      <CardService
        icon="./icons/camiseta.webp"
        title="Branded Merchandise"
        description="Custom promotional products with sublimation, digital print, and laser engraving."
        learnMoreUrl="/services/promotional-products"
      />
      </div>

      <!-- CTA after services -->
      <div class="text-center mt-10 sm:mt-14 lg:mt-20 px-2 sm:px-0">
        <div class="inline-flex flex-col items-center gap-3 sm:gap-4 p-5 sm:p-6 md:p-8 bg-white/60 backdrop-blur-sm rounded-2xl border border-slate-200/50 shadow-lg">
          <p class="text-sm sm:text-base text-slate-700 font-medium">Need something specific?</p>
          <a
            href="/contact"
            class="group inline-flex items-center gap-2 sm:gap-3 px-5 sm:px-7 py-3 sm:py-3.5 bg-gradient-to-r from-slate-900 to-slate-800 hover:from-slate-800 hover:to-slate-700 text-white text-sm sm:text-base font-semibold rounded-xl shadow-lg shadow-slate-900/20 hover:shadow-xl hover:shadow-slate-900/30 transition-all duration-300 hover:-translate-y-0.5 active:scale-[0.97]"
          >
            Let's Talk About Your Project
            <svg class="w-4 h-4 sm:w-5 sm:h-5 transition-transform duration-300 group-hover:translate-x-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
            </svg>
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- How We Work Section -->
  <HowWeWork />

  <!-- Website vs Web Application Educational Section -->
  <WebsiteVsWebApp />

  <!-- Transition gradient from light to dark -->

  <BannerSecond
    subtitle="We boost your brand"
    title="Transform Your Vision into Reality"
    description="Ready to grow? It's time to take action. We create digital experiences that convert potential into measurable results through strategic design and smart technology. Your brand deserves more than just maintenance—it deserves momentum."
    imgUrl="/photos/bannercodebrand.webp"
  />

  <Banner
    subtitle="More Than Creatives—We're Your Partners"
    title="Your Design and Technology Expert Team"
    description="At Codebrand, we don't just execute ideas—we refine and elevate them. We help your company set new standards in style, performance, and impact through exceptional design, strategic branding, and results-driven digital marketing."
    imgUrl="/photos/section.webp"
  />

  <PartnershipBanner />
  <Ourteam />
  <Pricing />

  <!-- Contact Form Section -->
  <section id="contact" class="relative bg-slate-950 font-poppins py-16 sm:py-20 lg:py-24 overflow-hidden">
    <!-- Orbs -->
    <div class="absolute inset-0 pointer-events-none" aria-hidden="true">
      <div class="absolute w-72 lg:w-80 h-72 lg:h-80 bg-cyan-500/10 rounded-full blur-3xl -top-32 right-1/4 motion-safe:animate-pulse"></div>
      <div class="absolute w-64 h-64 bg-orange-500/8 rounded-full blur-3xl bottom-0 left-10 motion-safe:animate-pulse" style="animation-delay:1s;"></div>
    </div>

    <div class="relative max-w-6xl mx-auto px-4 sm:px-6">
      <div class="grid grid-cols-1 lg:grid-cols-5 gap-10 lg:gap-14 items-start">

        <!-- LEFT: Copy + Info -->
        <div class="lg:col-span-2 lg:sticky lg:top-28 lg:self-start">
          <!-- Badge -->
          <div class="inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-slate-800/80 border border-cyan-500/30 mb-6">
            <span class="relative flex h-2 w-2">
              <span class="motion-safe:animate-ping absolute inline-flex h-full w-full rounded-full bg-cyan-400 opacity-75"></span>
              <span class="relative inline-flex rounded-full h-2 w-2 bg-cyan-500"></span>
            </span>
            <span class="text-xs text-slate-400 font-medium">We respond immediately</span>
          </div>

          <h2 class="text-2xl sm:text-3xl lg:text-4xl font-bold text-white leading-snug mb-3">
            Get a Free<br />
            <span class="text-transparent bg-clip-text bg-gradient-to-r from-orange-400 to-orange-500">Web Development Quote</span>
          </h2>
          <p class="text-sm text-slate-400 leading-relaxed mb-8 max-w-sm">
            Free consultation, no strings attached. Tell us what you need and we'll get back to you with a plan.
          </p>

          <!-- Contact info -->
          <div class="space-y-3 mb-8">
            <a href="mailto:info@codebrand.es" class="flex items-center gap-2.5 text-sm text-slate-400 hover:text-orange-400 transition-colors">
              <svg class="w-4 h-4 text-slate-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/></svg>
              info@codebrand.es
            </a>
            <a href="tel:+504-3272-2973" class="flex items-center gap-2.5 text-sm text-slate-400 hover:text-orange-400 transition-colors">
              <svg class="w-4 h-4 text-slate-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/></svg>
              +504 3272-2973
            </a>
            <div class="flex items-center gap-2.5 text-sm text-slate-500">
              <svg class="w-4 h-4 text-slate-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
              Mon–Fri 9AM–6PM &middot; Sat 10AM–2PM
            </div>
          </div>

          <!-- Testimonial -->
          <div class="border-l-2 border-slate-800 pl-4">
            <div class="flex gap-0.5 mb-2">
              {[1,2,3,4,5].map(() => (
                <svg class="w-3 h-3 text-orange-400" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/></svg>
              ))}
            </div>
            <p class="text-xs text-slate-500 leading-relaxed italic mb-2">
              "Delivered in 10 days. Quality exceeded expectations. Communication was excellent."
            </p>
            <p class="text-xs text-slate-600 font-medium">Michael R. <span class="text-slate-700 font-normal">&middot; Austin, TX</span></p>
          </div>
        </div>

        <!-- RIGHT: Form card -->
        <div class="lg:col-span-3">
          <contact-form data-endpoint="/api/contact">
            <form action="/api/contact" method="POST" class="bg-white rounded-2xl shadow-2xl shadow-black/20 p-5 sm:p-7">

              <!-- Honeypot -->
              <div aria-hidden="true" style="position:absolute;left:-9999px;top:-9999px;height:0;width:0;overflow:hidden;">
                <label for="home-website">Leave empty</label>
                <input type="text" name="honey" id="home-website" tabindex="-1" autocomplete="new-password" />
              </div>

              <div class="space-y-4">
                <!-- Row: Name + Email -->
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                  <div>
                    <label for="home-name" class="home-form-label">Name *</label>
                    <input id="home-name" name="name" type="text" required autocomplete="name"
                      placeholder="John Doe" class="home-form-input"
                      maxlength="60" minlength="2"
                      pattern="[a-zA-ZáéíóúÁÉÍÓÚñÑüÜ\s\-']+"
                      title="Only letters, spaces, hyphens and apostrophes" />
                  </div>
                  <div>
                    <label for="home-email" class="home-form-label">Email *</label>
                    <input id="home-email" name="email" type="email" required autocomplete="email"
                      placeholder="john@company.com" class="home-form-input" maxlength="254" />
                  </div>
                </div>

                <!-- Row: Phone + Industry -->
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                  <div>
                    <label for="home-phone" class="home-form-label">Phone *</label>
                    <input id="home-phone" name="phone" type="tel" required autocomplete="tel"
                      placeholder="+1 (555) 000-0000" class="home-form-input"
                      maxlength="20" minlength="7" pattern="[\d\s\-\+\(\)]+" />
                  </div>
                  <div>
                    <label for="home-industry" class="home-form-label">Industry *</label>
                    <div class="relative">
                      <select id="home-industry" name="industry" required class="home-form-input appearance-none pr-8">
                        <option value="" disabled selected>Select</option>
                        {industries.map((ind) => <option value={ind}>{ind}</option>)}
                      </select>
                      <svg class="absolute right-2.5 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400 pointer-events-none" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
                    </div>
                  </div>
                </div>

                <!-- Subject -->
                <div>
                  <label for="home-subject" class="home-form-label">Subject *</label>
                  <input id="home-subject" name="subject" type="text" required
                    placeholder="How can we help?" class="home-form-input"
                    maxlength="100" minlength="3"
                    pattern="[a-zA-Z0-9áéíóúÁÉÍÓÚñÑüÜ\s\-,.!?']+" />
                </div>

                <!-- Message -->
                <div>
                  <label for="home-message" class="home-form-label">Message *</label>
                  <textarea id="home-message" name="message" rows="3" required
                    placeholder="Project details, goals, timeline..."
                    class="home-form-input resize-none"
                    maxlength="2000" minlength="10"></textarea>
                </div>

                <!-- Services -->
                <div>
                  <label class="home-form-label">Services <span class="text-slate-400 font-normal">(optional)</span></label>
                  <div class="flex flex-wrap gap-1.5">
                    {services.map((s) => (
                      <label class="cursor-pointer inline-block px-2.5 py-1 text-xs rounded-full border border-slate-200 text-slate-500 bg-slate-50/80 transition-all duration-150 select-none has-[:checked]:bg-orange-50 has-[:checked]:border-orange-300 has-[:checked]:text-orange-600 has-[:checked]:font-medium hover:border-slate-300 has-[:focus-visible]:ring-2 has-[:focus-visible]:ring-orange-500">
                        <input type="checkbox" name="services" value={s} class="sr-only" />
                        {s}
                      </label>
                    ))}
                  </div>
                </div>

                <!-- Terms -->
                <label class="flex items-start gap-2 cursor-pointer">
                  <input type="checkbox" name="terms" required
                    class="mt-0.5 w-3.5 h-3.5 rounded border-slate-300 text-orange-500 focus:ring-orange-500 cursor-pointer" />
                  <span class="text-xs text-slate-400 leading-relaxed">
                    I agree to the <a href="/terms" target="_blank" class="text-orange-500 hover:text-orange-600 underline underline-offset-2">Terms</a>
                    and <a href="/privacy" target="_blank" class="text-orange-500 hover:text-orange-600 underline underline-offset-2">Privacy Policy</a>.
                  </span>
                </label>

                <!-- Submit -->
                <div class="flex flex-col sm:flex-row sm:items-center gap-3 pt-1">
                  <button type="submit"
                    class="flex items-center justify-center gap-2 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white text-sm font-semibold py-2.5 px-6 rounded-lg shadow-md shadow-orange-500/20 hover:shadow-orange-500/30 hover:-translate-y-px active:scale-[0.98] transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none disabled:translate-y-0">
                    <span>Get Free Consultation</span>
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/></svg>
                  </button>
                  <span class="flex items-center gap-1 text-[11px] text-slate-400">
                    <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"/></svg>
                    Secure &middot; Never shared
                  </span>
                </div>

                <!-- Response -->
                <p data-response class="text-xs font-medium hidden rounded-lg px-3 py-2"></p>
              </div>
            </form>
          </contact-form>
        </div>

      </div>
    </div>
  </section>

  <DesignRushSection />

  <Faq />

</Layout>

<script>
  class ContactForm extends HTMLElement {
    connectedCallback() {
      const endpoint = this.dataset.endpoint!;
      const form = this.querySelector<HTMLFormElement>("form");
      const responseEl = this.querySelector<HTMLParagraphElement>("[data-response]");
      const submitBtn = this.querySelector<HTMLButtonElement>('button[type="submit"]');

      if (!form || !responseEl || !submitBtn) return;
      const originalHtml = submitBtn.innerHTML;

      form.addEventListener("submit", async (e) => {
        e.preventDefault();
        const fd = new FormData(form);
        const email = fd.get("email") as string;

        if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
          responseEl.textContent = "Please enter a valid email address.";
          responseEl.className = "text-xs font-medium text-red-500 bg-red-50 border border-red-200 rounded-lg px-3 py-2";
          responseEl.classList.remove("hidden");
          return;
        }

        submitBtn.disabled = true;
        submitBtn.innerHTML = `<svg class="w-4 h-4 animate-spin" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"/><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"/></svg><span>Sending...</span>`;

        try {
          const res = await fetch(endpoint, { method: "POST", body: fd });
          if (res.ok) { window.location.href = "/thank-you"; return; }
          const text = await res.text();
          responseEl.textContent = text || "Something went wrong. Please try again.";
          responseEl.className = "text-xs font-medium text-red-500 bg-red-50 border border-red-200 rounded-lg px-3 py-2";
        } catch {
          responseEl.textContent = "Network error. Check your connection and try again.";
          responseEl.className = "text-xs font-medium text-red-500 bg-red-50 border border-red-200 rounded-lg px-3 py-2";
        } finally {
          responseEl.classList.remove("hidden");
          submitBtn.disabled = false;
          submitBtn.innerHTML = originalHtml;
        }
      });
    }
  }
  if (!customElements.get("contact-form")) {
    customElements.define("contact-form", ContactForm);
  }
</script>

<style>
  contact-form {
    display: block;
  }
  .home-form-label {
    display: block;
    font-size: 0.75rem;
    font-weight: 500;
    color: #64748b;
    margin-bottom: 0.375rem;
    letter-spacing: 0.01em;
  }
  .home-form-input {
    width: 100%;
    padding: 0.5rem 0.75rem;
    border: 1px solid #e2e8f0;
    border-radius: 0.5rem;
    font-size: 0.8125rem;
    color: #1e293b;
    background-color: #fafbfc;
    transition: border-color 0.15s, box-shadow 0.15s, background-color 0.15s;
    outline: none;
  }
  select.home-form-input {
    padding-right: 2rem;
  }
  .home-form-input:hover { border-color: #cbd5e1; background-color: #fff; }
  .home-form-input:focus { border-color: #f97316; background-color: #fff; box-shadow: 0 0 0 2px rgba(249,115,22,0.08); }
  .home-form-input:focus-visible { outline: none; --tw-ring-shadow: none; box-shadow: 0 0 0 2px rgba(249,115,22,0.15); border-color: #f97316; }
  .home-form-input::placeholder { color: #94a3b8; }
</style>
